"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[39],{422:(t,e,n)=>{n.d(e,{A:()=>r});const a={name:"CreateDepartment",data:function(){return{form:new(this.$ioc.resolve("Form"))({name:""})}},methods:{modalOpened:function(t){this.setFocusOnFirstElement(t)},createNew:function(){var t=this;this.form.post("/api/departments").then((function(e){t.$emit("department-created",e.data),t.form.fields.name="",t.$modal.hide("create-department")}))},setFocusOnFirstElement:function(t){var e=t.ref.getElementsByTagName("input");e.length>0&&e[0].focus()}}};const r=(0,n(4486).A)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_create_departments"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$modal.show("create-department")}}},[e("i",{staticClass:"fa fa-plus"}),t._v("\n        Add\n    ")]),t._v(" "),e("modal",{attrs:{name:"create-department",height:"auto",scrollable:!0},on:{opened:t.modalOpened}},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.createNew.apply(null,arguments)}}},[e("div",{staticClass:"box-header with-border"},[e("h4",[t._v("Create Department")])]),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("name")}},[e("div",{},[e("label",{staticClass:"col-sm-3 control-label",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.name,expression:"form.fields.name"}],staticClass:"form-control",attrs:{type:"text",id:"create-department-name",name:"name"},domProps:{value:t.form.fields.name},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"name",e.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-addon"},[e("i",{staticClass:"fa fa-flag"})])]),t._v(" "),t.form.error.has("name")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("name")))]):t._e()])])])]),t._v(" "),e("div",{staticClass:"box-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("CREATE")])])])])],1)}),[],!1,null,null,null).exports},3309:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});const a={name:"Departments",data:function(){return{departments:[],current:null}},props:["list","selected"],components:{CreateDepartment:n(422).A},mounted:function(){this.current=this.selected,this.departments=this.list},methods:{addDepartment:function(t){this.departments.unshift(t)}}};const r=(0,n(4486).A)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.current,expression:"current"}],staticClass:"form-control",attrs:{name:"department_id",id:"department_id"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.current=e.target.multiple?n:n[0]}}},t._l(t.departments,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v("\n            "+t._s(n.name)+"\n        ")])})),0),t._v(" "),e("CreateDepartment",{staticClass:"input-group-addon",on:{"department-created":t.addDepartment}})],1)}),[],!1,null,"309593d1",null).exports},4486:(t,e,n)=>{function a(t,e,n,a,r,s,o,i){var l,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=n,d._compiled=!0),a&&(d.functional=!0),s&&(d._scopeId="data-v-"+s),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=l):r&&(l=i?function(){r.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(t,e){return l.call(e),c(t,e)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,l):[l]}return{exports:t,options:d}}n.d(e,{A:()=>a})}}]);