(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"4MuT":function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,".view-photo[data-v-6844820a]{color:#fafafa;font-weight:700}",""])},"7XlF":function(t,e,s){"use strict";s("PBCz")},Jbxb:function(t,e,s){"use strict";s.r(e);var a={name:"CreateAfpComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))({name:""})}},methods:{modalOpened:function(t){var e=t.ref.getElementsByTagName("input");e.length>0&&e[0].focus()},createNew:function(){var t=this;this.form.post("/api/afps",{}).then((function(e){t.$emit("afp-created",e.data),t.form.fields.name="",t.$swal("Nice!","The Afp "+e.data.name+" was added!","success"),t.$modal.hide("create-afp")}))}}},o=s("KHd+"),r=Object(o.a)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_create_Afps"},[e("modal",{attrs:{name:"create-afp",height:"auto",scrollable:!0},on:{opened:t.modalOpened}},[e("form",{staticClass:"form-horizonal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.createNew.apply(null,arguments)}}},[e("div",{staticClass:"box-header with-border"},[e("h4",[t._v("Create Afp")])]),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("name")}},[e("div",{},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.name,expression:"form.fields.name"}],staticClass:"form-control",attrs:{type:"text",id:"create-afp-name",name:"name"},domProps:{value:t.form.fields.name},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"name",e.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-addon"},[e("i",{staticClass:"fa fa-flag"})])]),t._v(" "),t.form.error.has("name")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("name")))]):t._e()])])])]),t._v(" "),e("div",{staticClass:"box-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("CREATE")])])])])],1)}),[],!1,null,null,null);e.default=r.exports},PBCz:function(t,e,s){var a=s("4MuT");"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(a,o);a.locals&&(t.exports=a.locals)},pxZd:function(t,e,s){"use strict";s.r(e);var a={name:"AddressComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))(this.getAddress(),{reset:!1})}},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]}},methods:{getAddress:function(){return this.$store.getters["employee/getEmployee"].address?this.$store.getters["employee/getEmployee"].address:{sector:"",street_address:"",city:""}},submitAddress:function(){var t=this;this.form.post("/admin/employees/"+this.employee.id+"/address").then((function(e){t.$store.dispatch("employee/set",e.data)}))}}},o=s("KHd+"),r=Object(o.a)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"address"},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submitAddress.apply(null,arguments)},change:function(e){return t.form.error.clear(e.target.name)}}},[t._m(0),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("sector")}},[e("label",{staticClass:"col-xs-4 col-sm-12 col-md-4",attrs:{for:"input"}},[t._v("Sector:")]),t._v(" "),e("div",{staticClass:"col-xs-8 col-sm-12 col-md-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.sector,expression:"form.fields.sector"}],staticClass:"form-control",attrs:{type:"text",id:"sector",name:"sector"},domProps:{value:t.form.fields.sector},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"sector",e.target.value)}}}),t._v(" "),t.form.error.has("sector")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("sector")))]):t._e()])]),t._v(" "),e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("street_address")}},[e("label",{staticClass:"col-xs-4 col-sm-12 col-md-4",attrs:{for:"input"}},[t._v("Calle:")]),t._v(" "),e("div",{staticClass:"col-xs-8 col-sm-12 col-md-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.street_address,expression:"form.fields.street_address"}],staticClass:"form-control",attrs:{type:"text",id:"street_address",name:"street_address"},domProps:{value:t.form.fields.street_address},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"street_address",e.target.value)}}}),t._v(" "),t.form.error.has("street_address")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("street_address")))]):t._e()])]),t._v(" "),e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("city")}},[e("label",{staticClass:"col-xs-4 col-sm-12 col-md-4",attrs:{for:"input"}},[t._v("Ciudad:")]),t._v(" "),e("div",{staticClass:"col-xs-8 col-sm-12 col-md-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.city,expression:"form.fields.city"}],staticClass:"form-control",attrs:{type:"text",id:"city",name:"city"},domProps:{value:t.form.fields.city},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"city",e.target.value)}}}),t._v(" "),t.form.error.has("city")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("city")))]):t._e()])]),t._v(" "),t._m(1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"box-header with-border"},[t("h4",[this._v("Dirección:")])])},function(){var t=this._self._c;return t("div",{staticClass:"box-footer"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-10 col-sm-offset-2"},[t("button",{staticClass:"btn btn-primary text-uppercase",attrs:{type:"submit"}},[this._v("\n                            Salvar\n                        ")])])])])}],!1,null,"cda5e6d8",null).exports,i={name:"AFPComponent",data:function(){return{afp_list:[],form:new(this.$ioc.resolve("Form"))({afp_id:this.getAfpId()},!1)}},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]}},components:{CreateAfpForm:s("Jbxb").default},mounted:function(){return this.afp_list=this.employee.afp_list},methods:{getAfpId:function(){return this.$store.getters["employee/getEmployee"].afp_id},updated:function(t){this.form.error.clear(t.target.name)},handleUpdateAfp:function(){var t=this;this.form.put("/admin/employees/"+this.employee.id+"/afp").then((function(e){return t.$store.dispatch("employee/set",e.data),t.form.fields.afp_id=e.data.afp.id}))},afpCreated:function(t){return this.afp_list.unshift(t)}}},n=Object(o.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_AFP well"},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleUpdateAfp.apply(null,arguments)},change:t.updated}},[t._m(0),t._v(" "),e("div",{staticClass:"box-body",class:{"has-error":t.form.error.has("afp_id")}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-xs-3 col-md-12 col-lg-3",attrs:{for:"input"}},[t._v("AFP:")]),t._v(" "),e("div",{staticClass:"col-xs-9 col-md-12 col-lg-9"},[e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.afp_id,expression:"form.fields.afp_id"}],staticClass:"form-control",attrs:{name:"afp_id",id:"afp_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form.fields,"afp_id",e.target.multiple?s:s[0])}}},t._l(t.afp_list,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(t._s(s.name))])})),0),t._v(" "),e("a",{staticClass:"input-group-addon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$modal.show("create-afp")}}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Agregar\n                        ")])]),t._v(" "),t.form.error.has("afp_id")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("afp_id")))]):t._e()])])]),t._v(" "),t._m(1)]),t._v(" "),e("create-afp-form",{on:{"afp-created":t.afpCreated}})],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"box-header with-border"},[t("h4",[this._v("AFP Info:")])])},function(){var t=this._self._c;return t("div",{staticClass:"box-footer"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-10 col-sm-offset-2"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("\n                        Salvar AFP\n                    ")])])])])}],!1,null,"48f37f5a",null).exports,l={name:"CreateArsComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))({name:""})}},methods:{modalOpened:function(t){var e=t.ref.getElementsByTagName("input");e.length>0&&e[0].focus()},createNew:function(){var t=this;this.form.post("/api/arss",{}).then((function(e){t.$emit("ars-created",e.data),t.form.fields.name="",t.$swal("Nice!","The Ars "+e.data.name+" was added!","success"),t.$modal.hide("create-ars")}))}}},c={name:"ARSComponent",data:function(){return{ars_list:[],form:new(this.$ioc.resolve("Form"))({ars_id:this.getArsId()},!1)}},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]}},mounted:function(){return this.ars_list=this.employee.ars_list},components:{CreateArsForm:Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_create_Ars"},[e("modal",{attrs:{name:"create-ars",height:"auto",scrollable:!0},on:{opened:t.modalOpened}},[e("form",{staticClass:"form-horizonal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.createNew.apply(null,arguments)}}},[e("div",{staticClass:"box-header with-border"},[e("h4",[t._v("Create Ars")])]),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("name")}},[e("div",{},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.name,expression:"form.fields.name"}],staticClass:"form-control",attrs:{type:"text",id:"create-ars-name",name:"name"},domProps:{value:t.form.fields.name},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"name",e.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-addon"},[e("i",{staticClass:"fa fa-flag"})])]),t._v(" "),t.form.error.has("name")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("name")))]):t._e()])])])]),t._v(" "),e("div",{staticClass:"box-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("CREATE")])])])])],1)}),[],!1,null,null,null).exports},methods:{getArsId:function(){return this.$store.getters["employee/getEmployee"].ars_id},updated:function(t){this.form.error.clear(t.target.name)},handleUpdateArs:function(){var t=this;this.form.put("/admin/employees/"+this.employee.id+"/ars").then((function(e){return t.$store.dispatch("employee/set",e.data),t.form.fields.ars_id=e.data.ars.id}))},arsCreated:function(t){return this.ars_list.unshift(t)}}},m=Object(o.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_ARS well"},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleUpdateArs.apply(null,arguments)},change:t.updated}},[t._m(0),t._v(" "),e("div",{staticClass:"box-body",class:{"has-error":t.form.error.has("ars_id")}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-xs-3 col-md-12 col-lg-3",attrs:{for:"input"}},[t._v("ARS:")]),t._v(" "),e("div",{staticClass:"col-xs-9 col-md-12 col-lg-9"},[e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.ars_id,expression:"form.fields.ars_id"}],staticClass:"form-control",attrs:{name:"ars_id",id:"ars_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form.fields,"ars_id",e.target.multiple?s:s[0])}}},t._l(t.ars_list,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(t._s(s.name))])})),0),t._v(" "),e("a",{staticClass:"input-group-addon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$modal.show("create-ars")}}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Agregar\n                        ")])]),t._v(" "),t.form.error.has("ars_id")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("ars_id")))]):t._e()])])]),t._v(" "),t._m(1)]),t._v(" "),e("create-ars-form",{on:{"ars-created":t.arsCreated}})],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"box-header with-border"},[t("h4",[this._v("ARS Info:")])])},function(){var t=this._self._c;return t("div",{staticClass:"box-footer"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-10 col-sm-offset-2"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("\n                        Salvar ARS\n                    ")])])])])}],!1,null,"17a53ec6",null).exports,d={name:"CreateBankComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))({name:""})}},methods:{modalOpened:function(t){var e=t.ref.getElementsByTagName("input");e.length>0&&e[0].focus()},createNew:function(){var t=this;this.form.post("/api/banks",{}).then((function(e){t.$emit("bank-created",e.data),t.form.fields.name="",t.$swal("Nice!","The Bank "+e.data.name+" was added!","success"),t.$modal.hide("create-bank")}))}}},u={name:"BankAccountComponent",data:function(){return{banks_list:[],form:new(this.$ioc.resolve("Form"))(this.getBankAccountObject(),!1)}},mounted:function(){return this.banks_list=this.employee.banks_list},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]}},methods:{getBankAccountObject:function(){var t=this.$store.getters["employee/getEmployee"];return{bank_id:t.bank_account?t.bank_account.bank_id:"",account_number:t.bank_account?t.bank_account.account_number:""}},updated:function(t){this.form.error.clear(t.target.name)},handleUpdateBankAccount:function(){var t=this;this.form.put("/admin/employees/"+this.employee.id+"/bank-account").then((function(e){t.$store.dispatch("employee/set",e.data)}))},bankCreated:function(t){this.banks_list.unshift(t)}},components:{CreateBankForm:Object(o.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_create_Banks"},[e("modal",{attrs:{name:"create-bank",height:"auto",scrollable:!0},on:{opened:t.modalOpened}},[e("form",{staticClass:"form-horizonal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.createNew.apply(null,arguments)}}},[e("div",{staticClass:"box-header with-border"},[e("h4",[t._v("Create Bank")])]),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("name")}},[e("div",{},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.name,expression:"form.fields.name"}],staticClass:"form-control",attrs:{type:"text",id:"create-bank-name",name:"name"},domProps:{value:t.form.fields.name},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"name",e.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-addon"},[e("i",{staticClass:"fa fa-flag"})])]),t._v(" "),t.form.error.has("name")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("name")))]):t._e()])])])]),t._v(" "),e("div",{staticClass:"box-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("CREATE")])])])])],1)}),[],!1,null,null,null).exports}},f=Object(o.a)(u,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_Bank Account"},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleUpdateBankAccount.apply(null,arguments)},keyup:t.updated}},[t._m(0),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("bank_id")}},[e("label",{staticClass:"col-xs-3 col-md-12 col-lg-3",attrs:{for:"input"}},[t._v("Banco:")]),t._v(" "),e("div",{staticClass:"col-xs-9 col-md-12 col-lg-9"},[e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.bank_id,expression:"form.fields.bank_id"}],staticClass:"form-control",attrs:{name:"bank_id",id:"bank_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form.fields,"bank_id",e.target.multiple?s:s[0])}}},t._l(t.banks_list,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(t._s(s.name))])})),0),t._v(" "),e("a",{staticClass:"input-group-addon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$modal.show("create-bank")}}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Agregar\n                            ")])]),t._v(" "),t.form.error.has("bank_id")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("bank_id")))]):t._e()])])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("bank_id")}},[e("label",{staticClass:"col-xs-3 col-md-12 col-lg-3",attrs:{for:"input"}},[t._v("# De Cuenta:")]),t._v(" "),e("div",{staticClass:"col-xs-9 col-md-12 col-lg-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.account_number,expression:"form.fields.account_number"}],staticClass:"form-control",attrs:{type:"text",id:"account_number",name:"account_number"},domProps:{value:t.form.fields.account_number},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"account_number",e.target.value)}}}),t._v(" "),t.form.error.has("account_number")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("account_number")))]):t._e()])])])]),t._v(" "),t._m(1)]),t._v(" "),e("create-bank-form",{on:{"bank-created":t.bankCreated}})],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"box-header with-border"},[t("h4",[this._v("Información Cuenta Banco:")])])},function(){var t=this._self._c;return t("div",{staticClass:"box-footer"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-10 col-sm-offset-2"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("\n                        Salvar Cuenta\n                    ")])])])])}],!1,null,"21fd1036",null).exports,p={name:"CardComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))({card:this.getCard()},!1)}},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]}},methods:{getCard:function(){return this.$store.getters["employee/getEmployee"].card?this.$store.getters["employee/getEmployee"].card.card:""},updated:function(t){this.form.error.clear(t.target.name)},submitCard:function(){var t=this;this.form.post("/admin/employees/"+this.employee.id+"/card").then((function(e){t.$store.dispatch("employee/set",e.data)}))}}},v=Object(o.a)(p,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_Card well"},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submitCard.apply(null,arguments)},change:t.updated}},[t._m(0),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("card")}},[e("label",{staticClass:"col-xs-3 col-md-12 col-lg-3",attrs:{for:"input"}},[t._v("Id Tarjeta:")]),t._v(" "),e("div",{staticClass:"col-xs-9 col-md-12 col-lg-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.card,expression:"form.fields.card"}],staticClass:"form-control",attrs:{type:"text",id:"card",name:"card"},domProps:{value:t.form.fields.card},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"card",e.target.value)}}}),t._v(" "),t.form.error.has("card")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("card")))]):t._e()])])]),t._v(" "),t._m(1)])])}),[function(){var t=this._self._c;return t("div",{staticClass:"box-header with-border"},[t("h4",[this._v("# Tarjeta de Acceso:")])])},function(){var t=this._self._c;return t("div",{staticClass:"box-footer"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-10 col-sm-offset-2"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("\n                        Salvar Tarjeta\n                    ")])])])])}],!1,null,"267c75f4",null).exports,_=s("9EIk"),h={name:"UpdateLoginNameComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))({login:""}),current_index:"",login:{}}},methods:{beforeOpen:function(t){this.form.fields.login=t.params.login,this.login=t.params,this.current_index=t.params.index},modalOpened:function(t){var e=t.ref.getElementsByTagName("input");e.length>0&&e[0].focus()},doUpdate:function(){var t=this;this.form.put("/admin/login_names/"+this.login.id).then((function(e){t.$emit("login-name-updated",e.data,t.current_index),t.form.fields.login="",t.$modal.hide("update-login-name-form"),t.$swal({toast:!0,type:"success",text:"The LoginName "+e.data.login+" was updated!",title:"Success",position:"top-end",showConfirmButton:!1,timer:5e3})}))}}},g={name:"LoginNames",data:function(){return{form:new(this.$ioc.resolve("Form"))({login:""})}},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]},login_names:function(){return this.$store.getters["employee/getEmployee"].login_names}},methods:{updated:function(t){this.form.error.clear(t.target.name)},updateLogin:function(t,e){e.index=t,this.$modal.show("update-login-name-form",e)},loginNameUpdated:function(t,e){t.index=e,this.$store.dispatch("employee/updateLoginName",t)},handleCreateLogin:function(){var t=this;this.form.post("/admin/employees/"+this.employee.id+"/login_names").then((function(e){return t.$store.dispatch("employee/addLoginName",e.data)}))}},components:{UpdateLoginNameForm:Object(o.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_create_login_names"},[e("modal",{attrs:{name:"update-login-name-form",height:"auto",scrollable:!0},on:{opened:t.modalOpened,"before-open":t.beforeOpen}},[e("form",{staticClass:"form-horizonal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.doUpdate.apply(null,arguments)}}},[e("div",{staticClass:"box-header with-border"},[e("h4",[t._v("Update LoginName - "+t._s(t.form.fields.login))])]),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("login")}},[e("div",{},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"login"}},[t._v("Name:")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.login,expression:"form.fields.login"}],staticClass:"form-control",attrs:{type:"text",id:"login",name:"login"},domProps:{value:t.form.fields.login},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"login",e.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-addon"},[e("i",{staticClass:"fa fa-flag"})])]),t._v(" "),t.form.error.has("login")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("login")))]):t._e()])])])]),t._v(" "),e("div",{staticClass:"box-footer"},[e("button",{staticClass:"btn btn-warning",attrs:{type:"submit"}},[t._v("UPDATE")])])])])],1)}),[],!1,null,null,null).exports}},C=Object(o.a)(g,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-names"},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleCreateLogin.apply(null,arguments)},change:t.updated}},[t._m(0),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-8 col-sm-offset-2"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("login")}},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"input"}},[t._v("Login Name:")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.login,expression:"form.fields.login"}],staticClass:"form-control",attrs:{type:"text",id:"login",name:"login"},domProps:{value:t.form.fields.login},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"login",e.target.value)}}}),t._v(" "),t._m(1)]),t._v(" "),t.form.error.has("login")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("login")))]):t._e()])])])])])]),t._v(" "),t.login_names.length?e("div",{staticClass:"box-footer"},[e("table",{staticClass:"table table-condensed table-bordered"},[t._m(2),t._v(" "),e("tbody",t._l(t.login_names,(function(s,a){return e("tr",{key:s.id},[e("td",[t._v(t._s(s.login))]),t._v(" "),e("td",{staticClass:"col-sm-2"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updateLogin(a,s)}}},[e("i",{staticClass:"fa fa-edit"}),t._v(" Editar\n                        ")])])])})),0)])]):t._e(),t._v(" "),e("update-login-name-form",{on:{"login-name-updated":t.loginNameUpdated}})],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"box-header with-border"},[t("h4",[this._v("Listado de Login Names Asignados:")])])},function(){var t=this._self._c;return t("span",{staticClass:"input-group-btn"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit text-uppercase"}},[this._v("Crear")])])},function(){var t=this._self._c;return t("thead",[t("tr",[t("th",[this._v("Login Name")]),this._v(" "),t("th",[this._v("Acciones")])])])}],!1,null,"a7faaf58",null).exports,b={name:"CreateNationalityComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))({name:""})}},methods:{createNew:function(){var t=this;this.form.post("/api/nationalities",{}).then((function(e){t.$emit("nationality-created",e.data),t.$modal.hide("create-nationality")}))}}},y={name:"NationalityComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))(this.getNationalityObject(),!1),nationalities_list:[]}},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]}},components:{CreateNationalityForm:Object(o.a)(b,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_create_positions"},[e("modal",{attrs:{name:"create-nationality",height:"auto",scrollable:!0}},[e("form",{staticClass:"form-horizonal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.createNew.apply(null,arguments)},change:function(e){return t.form.error.clear(e.target.name)}}},[e("div",{staticClass:"box-header with-border"},[e("h4",[t._v("Create Nationality")])]),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("name")}},[e("div",{},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.name,expression:"form.fields.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.form.fields.name},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"name",e.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-addon"},[e("i",{staticClass:"fa fa-flag"})])]),t._v(" "),t.form.error.has("name")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("name")))]):t._e()])])])]),t._v(" "),e("div",{staticClass:"box-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("CREATE")])])])])],1)}),[],!1,null,null,null).exports},mounted:function(){return this.nationalities_list=this.employee.nationalities_list},methods:{getNationalityObject:function(){var t=this.$store.getters["employee/getEmployee"];return{nationality_id:t.nationality?t.nationality.id:""}},nationalityCreated:function(t){this.nationalities_list.unshift(t)},updateNationality:function(){var t=this;this.form.post("/admin/employees/"+this.employee.id+"/nationality").then((function(e){t.$store.dispatch("employee/set",e.data)}))}}},x=Object(o.a)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_Nationality well"},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.updateNationality.apply(null,arguments)},change:function(e){return t.form.error.clear(e.target.name)}}},[t._m(0),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("nationality_id")}},[e("label",{staticClass:"col-xs-3 col-md-12 col-lg-3",attrs:{for:"nationality_id"}},[t._v("Nacionalidad:")]),t._v(" "),e("div",{staticClass:"col-xs-9 col-md-12 col-lg-9"},[e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.nationality_id,expression:"form.fields.nationality_id"}],staticClass:"form-control",attrs:{name:"nationality",id:"nationality"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form.fields,"nationality_id",e.target.multiple?s:s[0])}}},t._l(t.nationalities_list,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v("\n                                "+t._s(s.name)+"\n                            ")])})),0),t._v(" "),e("a",{staticClass:"input-group-addon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$modal.show("create-nationality")}}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Agregar\n                        ")])]),t._v(" "),t.form.error.has("nationality_id")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("nationality_id")))]):t._e()])])]),t._v(" "),t._m(1)]),t._v(" "),e("create-nationality-form",{attrs:{departments_list:t.employee.departments_list},on:{"nationality-created":t.nationalityCreated}})],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"box-header with-border"},[t("h4",[this._v("Nacionalidad:")])])},function(){var t=this._self._c;return t("div",{staticClass:"box-footer"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-10 col-sm-offset-2"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("\n                        Salvar Nacionalidad\n                    ")])])])])}],!1,null,"63e0d56e",null).exports,w={name:"PhotoComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))({photo:""},!1)}},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]},photo:function(){var t=(new Date).getTime();return"".concat(this.employee.photo,"?").concat(t)},hasPhoto:function(){return String(this.employee.photo).includes("storage")}},methods:{loadFiles:function(t){this.form.loadFiles(t.target.name,t.target.files)},blurred:function(t){this.form.error.clear(t.target.name)},submitPhoto:function(){var t=this;this.form.post("/admin/employees/"+this.employee.id+"/photo").then((function(e){t.$store.dispatch("employee/set",e.data),t.form.reset()}))},removePhoto:function(){var t=this;this.$swal({title:"Are you sure?",text:"This action can not be reverted. It will be gone forever. ",type:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&t.form.delete("/admin/employees/".concat(t.employee.id,"/photo")).then((function(e){t.$store.dispatch("employee/set",e.data),t.form.reset()}))}))}}},$=(s("7XlF"),Object(o.a)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"box box-widget widget-user"},[e("div",{staticClass:"widget-user-header bg-aqua-active"},[t.hasPhoto?e("button",{staticClass:"btn btn-danger btn-xs pull-right",on:{click:t.removePhoto}},[t._v("Remove")]):t._e()]),t._v(" "),e("a",{staticClass:"view-photo",attrs:{href:"/".concat(t.photo),target:"_employee_photo"}},[e("div",{staticClass:"widget-user-image"},[e("img",{staticClass:"img-circle",attrs:{src:"/".concat(t.photo)}})])]),t._v(" "),e("div",{staticClass:"box-footer"},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.submitPhoto(this)},change:t.loadFiles,keydown:t.blurred}},[e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("photo")}},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"input"}},[t._v("Foto:")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{staticClass:"form-control",attrs:{type:"file",id:"photo",name:"photo"}}),t._v(" "),t.form.error.has("photo")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("photo")))]):t._e()])])]),t._v(" "),t._m(0)])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"box-footer"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-10 col-sm-offset-2"},[t("button",{staticClass:"btn btn-success text-uppercase",attrs:{type:"submit"}},[this._v("\n                                    Actualizar Foto\n                                ")])])])])}],!1,null,"6844820a",null).exports),E={name:"PunchComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))({punch:this.getPunch()},!1)}},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]},punch:function(){return this.employee.punch?this.employee.punch.punch:""}},methods:{getPunch:function(){return this.$store.getters["employee/getEmployee"].punch?this.$store.getters["employee/getEmployee"].punch.punch:""},updated:function(t){this.form.error.clear(t.target.name)},submitPunch:function(){var t=this;this.form.post("/admin/employees/"+this.employee.id+"/punch").then((function(e){t.$store.dispatch("employee/set",e.data)}))}}},N=Object(o.a)(E,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_Punch well"},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submitPunch.apply(null,arguments)},change:t.updated}},[t._m(0),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("punch")}},[e("label",{staticClass:"col-xs-3 col-md-12 col-lg-3",attrs:{for:"input"}},[t._v("Ponche:")]),t._v(" "),e("div",{staticClass:"col-xs-9 col-md-12 col-lg-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.punch,expression:"form.fields.punch"}],staticClass:"form-control",attrs:{type:"text",id:"punch",name:"punch"},domProps:{value:t.form.fields.punch},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"punch",e.target.value)}}}),t._v(" "),t.form.error.has("punch")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("punch")))]):t._e()])])]),t._v(" "),t._m(1)])])}),[function(){var t=this._self._c;return t("div",{staticClass:"box-header with-border"},[t("h4",[this._v("ID Ponche:")])])},function(){var t=this._self._c;return t("div",{staticClass:"box-footer"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-10 col-sm-offset-2"},[t("button",{staticClass:"btn btn-primary text-uppercase",attrs:{type:"submit"}},[this._v("\n                        Salvar Ponche\n                    ")])])])])}],!1,null,"45638ad9",null).exports,A=s("E7d+"),k={name:"ReactivactionComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))({hire_date:moment(this.current).format("Y-M-D")},!1)}},components:{DatePicker:A.default},props:["current"],computed:{employee:function(){return this.$store.getters["employee/getEmployee"]},hasTermination:function(){return!this.$store.getters["employee/getEmployee"].active}},methods:{hireDateUpdated:function(t){return this.form.fields.hire_date=t},handleReactivation:function(){var t=this;this.form.post("/admin/employees/".concat(this.employee.id,"/reactivate")).then((function(e){t.$emit("employee-reactivated",e.data),t.$store.dispatch("employee/set",e.data)}))}}},S=Object(o.a)(k,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_Reactivation"},[t.hasTermination?e("div",{staticClass:"box box-danger"},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleReactivation.apply(null,arguments)},keydown:function(e){return t.form.error.clear(e.target.name)}}},[e("div",{staticClass:"box-header with-border"},[e("h4",[t._v(t._s(t.employee.full_name)+"' está inactivo. Quiere reactivarlo?")])]),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-4 control-label",attrs:{for:"input"}},[t._v("Fecha Reactivación:")]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("date-picker",{attrs:{"input-class":"form-control input-sm"},on:{updated:t.hireDateUpdated},model:{value:t.form.fields.hire_date,callback:function(e){t.$set(t.form.fields,"hire_date",e)},expression:"form.fields.hire_date"}}),t._v(" "),t.form.error.has("hire_date")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("hire_date")))]):t._e()],1)])]),t._v(" "),t._m(0)])])])]):t._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"col-sm-4"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-10 col-sm-offset-2"},[t("button",{staticClass:"btn btn-danger text-uppercase",attrs:{type:"submit"}},[this._v("\n                                    Reactivar\n                                ")])])])])}],!1,null,"4f7f4f7e",null).exports,P={name:"SocialSecurityComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))({number:this.getSocial()},!1)}},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]}},methods:{getSocial:function(){return this.$store.getters["employee/getEmployee"].social_security?this.$store.getters["employee/getEmployee"].social_security.number:""},updated:function(t){this.form.error.clear(t.target.name)},handleUpdateSocialSecurity:function(){var t=this;this.form.post("/admin/employees/"+this.employee.id+"/social-security").then((function(e){t.$store.dispatch("employee/set",e.data)}))}}},D=Object(o.a)(P,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_Social_Security well"},[e("form",{staticClass:"form-horizontals",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleUpdateSocialSecurity.apply(null,arguments)},change:t.updated}},[t._m(0),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("number")}},[e("label",{staticClass:"col-xs-3 col-md-12 col-lg-3",attrs:{for:"number"}},[t._v("Número Seguridad Social:")]),t._v(" "),e("div",{staticClass:"col-xs-9 col-md-12 col-lg-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.number,expression:"form.fields.number"}],staticClass:"form-control",attrs:{type:"text",id:"number",name:"number"},domProps:{value:t.form.fields.number},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"number",e.target.value)}}}),t._v(" "),t.form.error.has("number")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("number")))]):t._e()])])]),t._v(" "),t._m(1)])])}),[function(){var t=this._self._c;return t("div",{staticClass:"box-header with-border"},[t("h4",[this._v("Informacion Seguridad Social:")])])},function(){var t=this._self._c;return t("div",{staticClass:"box-footer"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-10 col-sm-offset-2"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("\n                        Salvar Seguridad Social\n                    ")])])])])}],!1,null,"dc3e3708",null).exports,O={name:"CreateSupervisorComponent",props:{departments_list:{required:!0}},data:function(){return{form:new(this.$ioc.resolve("Form"))({name:""})}},methods:{modalOpened:function(t){var e=t.ref.getElementsByTagName("input");e.length>0&&e[0].focus()},createNew:function(){var t=this;this.form.post("/api/supervisors",{}).then((function(e){t.$emit("supervisor-created",e.data),t.form.fields.name="",t.$swal("Nice!","The Supervisor "+e.data.name+" was added!","success"),t.$modal.hide("create-supervisor")}))}}},F={name:"SupervisorComponent",data:function(){return{supervisors_list:[],form:new(this.$ioc.resolve("Form"))(this.getSupervisorObject(),{reset:!1})}},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]}},components:{CreateSupervisorForm:Object(o.a)(O,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_create_supervisors"},[e("modal",{attrs:{name:"create-supervisor",height:"auto",scrollable:!0},on:{opened:t.modalOpened}},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.createNew.apply(null,arguments)}}},[e("div",{staticClass:"box-header with-border"},[e("h4",[t._v("Create Supervisor")])]),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("name")}},[e("div",{},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.name,expression:"form.fields.name"}],staticClass:"form-control",attrs:{type:"text",id:"create-supervisor-name",name:"name"},domProps:{value:t.form.fields.name},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"name",e.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-addon"},[e("i",{staticClass:"fa fa-flag"})])]),t._v(" "),t.form.error.has("name")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("name")))]):t._e()])])]),t._v(" "),e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("department_id")}},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"input"}},[t._v("Department:")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.name_id,expression:"form.fields.name_id"}],staticClass:"form-control",attrs:{name:"department_id",id:"department_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form.fields,"name_id",e.target.multiple?s:s[0])}}},t._l(t.departments_list,(function(s,a){return e("option",{key:s.id,domProps:{value:s.id}},[t._v("\n                                "+t._s(s.name)+"\n                            ")])})),0),t._v(" "),t.form.error.has("department_id")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("department_id")))]):t._e()])])]),t._v(" "),e("div",{staticClass:"box-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("CREATE")])])])])],1)}),[],!1,null,null,null).exports},mounted:function(){return this.supervisors_list=this.employee.supervisors_list},methods:{getSupervisorObject:function(){return{supervisor_id:this.$store.getters["employee/getEmployee"].supervisor?this.$store.getters["employee/getEmployee"].supervisor.id:""}},updateSupervisor:function(){var t=this;this.form.put("/admin/employees/"+this.employee.id+"/supervisor").then((function(e){var s=e.data;t.$store.dispatch("employee/set",s)}))},supervisorCreated:function(t){this.supervisors_list.unshift(t)}}},T=Object(o.a)(F,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_Supervisor well"},[e("form",{staticClass:"form-horizontal",attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.updateSupervisor.apply(null,arguments)},change:function(e){return t.form.error.clear(e.target.name)}}},[t._m(0),t._v(" "),e("div",{staticClass:"box-body",class:{"has-error":t.form.error.has("supervisor_id")}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-xs-3 col-md-12 col-lg-3",attrs:{for:"input"}},[t._v("Supervisor:")]),t._v(" "),e("div",{staticClass:"col-xs-9 col-md-12 col-lg-9"},[e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.supervisor_id,expression:"form.fields.supervisor_id"}],staticClass:"form-control",attrs:{name:"supervisor_id",id:"supervisor_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form.fields,"supervisor_id",e.target.multiple?s:s[0])}}},t._l(t.supervisors_list,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v("\n                                "+t._s(s.name)+"\n                            ")])})),0),t._v(" "),e("a",{staticClass:"input-group-addon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$modal.show("create-supervisor")}}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Agregar\n                        ")])]),t._v(" "),t.form.error.has("supervisor_id")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("supervisor_id")))]):t._e()])])]),t._v(" "),t._m(1)]),t._v(" "),e("create-supervisor-form",{attrs:{departments_list:t.employee.departments_list},on:{"supervisor-created":t.supervisorCreated}})],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"box-header with-border"},[t("h4",[this._v("Información Supervisor:")])])},function(){var t=this._self._c;return t("div",{staticClass:"box-footer"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-10 col-sm-offset-2"},[t("button",{staticClass:"btn btn-primary text-uppercase",attrs:{type:"submit"}},[this._v("\n                        Salvar Supervisor\n                    ")])])])])}],!1,null,"217a9c9f",null).exports,j={name:"TerminationComponent",data:function(){return{form:new(this.$ioc.resolve("Form"))(this.getTermination(),{reset:!1})}},computed:{isActive:function(){return this.$store.getters["employee/getEmployee"].active},employee:function(){return this.$store.getters["employee/getEmployee"]},reasonIsOther:function(){var t=this.form.fields.termination_reason_id;console.log("list",this.employee.termination_reason_list);var e=this.employee.termination_reason_list.filter((function(e){return e.id==t}));return e=e[0]?e[0].reason:"","other"==String(e).toLowerCase()}},methods:{updateTerminationDate:function(t){this.form.fields.termination_date=t},terminate:function(){var t=this;this.form.post("/admin/employees/".concat(this.employee.id,"/terminate")).then((function(e){t.$store.dispatch("employee/set",e.data)}))},getTermination:function(){return this.$store.getters["employee/getEmployee"].termination?this.$store.getters["employee/getEmployee"].termination:{termination_date:new Date,termination_type_id:null,termination_reason_id:null}},reactivated:function(t){console.log(t),this.$store.dispatch("employee/set",t),this.form.fields={can_be_rehired:"",termination_date:new Date,termination_reason_id:"",termination_type_id:""}}},components:{EmployeeReactivation:S,DatePicker:A.default}},B=Object(o.a)(j,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_Termination"},[e("div",{staticClass:"box-header with-border bg-disabled",class:[t.isActive?"bg-green":"bg-yellow"]},[e("h4",[t._v("Estado actual es "+t._s(t.employee.status))])]),t._v(" "),e("div",{staticClass:"box box-info"},[e("form",{attrs:{role:"form",method:"post",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.terminate.apply(null,arguments)},keydown:function(e){return t.form.error.clear(e.target.name)},change:function(e){return t.form.error.clear(e.target.name)}}},[e("div",{staticClass:"box-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("termination_date")}},[e("label",{attrs:{for:"input"}},[t._v("Fecha:")]),t._v(" "),e("date-picker",{attrs:{"input-class":"form-control input-sm",allowFutureDates:!0},on:{updated:t.updateTerminationDate},model:{value:t.form.fields.termination_date,callback:function(e){t.$set(t.form.fields,"termination_date",e)},expression:"form.fields.termination_date"}}),t._v(" "),t.form.error.has("termination_date")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("termination_date")))]):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("termination_type_id")}},[e("label",{attrs:{for:"input"}},[t._v("Tipo de Salida:")]),t._v(" "),e("div",{},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.termination_type_id,expression:"form.fields.termination_type_id"}],staticClass:"form-control input-sm",attrs:{name:"termination_type_id",id:"termination_type_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form.fields,"termination_type_id",e.target.multiple?s:s[0])}}},t._l(t.employee.termination_type_list,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v("\n                                        "+t._s(s.name)+"\n                                    ")])})),0),t._v(" "),t.form.error.has("termination_type_id")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("termination_type_id")))]):t._e()])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("termination_reason_id")}},[e("label",{attrs:{for:"input"}},[t._v("Motivo Salida:")]),t._v(" "),e("div",{},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.termination_reason_id,expression:"form.fields.termination_reason_id"}],staticClass:"form-control input-sm",attrs:{name:"termination_reason_id",id:"termination_reason_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form.fields,"termination_reason_id",e.target.multiple?s:s[0])}}},t._l(t.employee.termination_reason_list,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v("\n                                        "+t._s(s.reason)+"\n                                    ")])})),0),t._v(" "),t.form.error.has("termination_reason_id")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("termination_reason_id")))]):t._e()])])]),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"form-group",class:{"has-error":t.form.error.has("can_be_rehired")}},[e("label",{attrs:{for:"input"}},[t._v("Recontratar?:")]),t._v(" "),e("div",{staticClass:"pad",class:[t.form.fields.can_be_rehired?"bg-success":"bg-warning"]},[e("div",{staticClass:"radio"},[e("label",{staticClass:"text-success"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.can_be_rehired,expression:"form.fields.can_be_rehired"}],attrs:{type:"radio",name:"can_be_rehired"},domProps:{value:!0,checked:t._q(t.form.fields.can_be_rehired,!0)},on:{change:function(e){return t.$set(t.form.fields,"can_be_rehired",!0)}}}),t._v("\n                                        Sí, se puede.\n                                    ")]),t._v(" "),e("label",{staticClass:"text-warning"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.can_be_rehired,expression:"form.fields.can_be_rehired"}],attrs:{type:"radio",name:"can_be_rehired"},domProps:{value:!1,checked:t._q(t.form.fields.can_be_rehired,!1)},on:{change:function(e){return t.$set(t.form.fields,"can_be_rehired",!1)}}}),t._v("\n                                        No, no lo haga.\n                                    ")])]),t._v(" "),t.form.error.has("can_be_rehired")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("can_be_rehired")))]):t._e()])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6",class:{"has-error":t.form.error.has("comments")}},[t.reasonIsOther?e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input"}},[t._v("Comentarios:")]),t._v(" "),e("div",{},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.fields.comments,expression:"form.fields.comments"}],staticClass:"form-control input-sm",attrs:{id:"comments",name:"comments",rows:"5",required:t.reasonIsOther},domProps:{value:t.form.fields.comments},on:{input:function(e){e.target.composing||t.$set(t.form.fields,"comments",e.target.value)}}}),t._v(" "),t.form.error.has("comments")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.form.error.get("comments")))]):t._e()])]):t._e()]),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-2"},[t.isActive?e("button",{staticClass:"btn btn-danger",attrs:{type:"submit"}},[t._v("\n                                    TERMINAR\n                                ")]):e("button",{staticClass:"btn btn-warning",attrs:{type:"submit"}},[t._v("\n                                    ACTUALIZAR INFORMACION DE SALIDA\n                                ")])])])])])])])]),t._v(" "),e("EmployeeReactivation",{attrs:{current:t.employee.hire_date},on:{"employee-reactivated":t.reactivated}})],1)}),[],!1,null,"4e37c584",null).exports,U={data:function(){return{}},computed:{employee:function(){return this.$store.getters["employee/getEmployee"]},isVip:function(){return this.employee.is_vip},isUniversal:function(){return this.employee.is_universal}},methods:{updateVip:function(t){var e=this;axios.post("/api/employees/".concat(this.employee.id,"/vip"),{is_vip:t.target.value}).then((function(t){e.$store.dispatch("employee/set",t.data)}))},updateUniversal:function(t){var e=this;axios.post("/api/employees/".concat(this.employee.id,"/universal"),{is_universal:t.target.value}).then((function(t){e.$store.dispatch("employee/set",t.data)}))}}},I=Object(o.a)(U,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"_Supervisor well"},[t._m(0),t._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"form-group col-md-6"},[e("div",{staticClass:"col-xs-6",class:{"bg-success":t.isVip}},[e("i",{staticClass:"fa fa-superpowers"}),t._v(" VIP:\n            ")]),t._v(" "),e("div",{staticClass:"col-xs-6",class:{"bg-success":t.isVip}},[e("label",{staticClass:"radio-inline"},[e("input",{attrs:{type:"radio",name:"isVip",id:"",value:"1"},domProps:{checked:t.employee.is_vip},on:{change:t.updateVip}}),t._v(" Sí\n                ")]),t._v(" "),e("label",{staticClass:"radio-inline"},[e("input",{attrs:{type:"radio",name:"isVip",id:"",value:"0"},domProps:{checked:!t.employee.is_vip},on:{change:t.updateVip}}),t._v(" No\n                ")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("div",{staticClass:"col-xs-6",class:{"bg-success":t.isUniversal}},[e("i",{staticClass:"fa fa-globe"}),t._v(" UNIVERSAL:\n            ")]),t._v(" "),e("div",{staticClass:"col-xs-6",class:{"bg-success":t.isUniversal}},[e("label",{staticClass:"radio-inline"},[e("input",{attrs:{type:"radio",name:"isUniversal",id:"",value:"1"},domProps:{checked:t.employee.is_universal},on:{change:t.updateUniversal}}),t._v(" Sí\n                ")]),t._v(" "),e("label",{staticClass:"radio-inline"},[e("input",{attrs:{type:"radio",name:"isUniversal",id:"",value:"0"},domProps:{checked:!t.employee.is_universal},on:{change:t.updateUniversal}}),t._v(" No\n                ")])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"box-header with-border"},[t("h4",[this._v("Especialidades:")])])}],!1,null,"129d0c31",null).exports,R={name:"EmployeeIndex",props:["employee"],components:{EmployeeAddress:r,EmployeeAfp:n,EmployeeArs:m,EmployeeBankAccount:f,EmployeeCard:v,EmployeeForm:_.default,EmployeeLoginNames:C,EmployeeNationality:x,EmployeePhoto:$,EmployeePunch:N,EmployeeReactivation:S,EmployeeSocialSecurity:D,EmployeeSupervisor:T,EmployeeTermination:B,Especialities:I},created:function(){this.$store.dispatch("employee/set",this.employee)},computed:{isActive:function(){return this.$store.getters["employee/getEmployee"].active}}},L=Object(o.a)(R,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"nav-tabs-custom",attrs:{role:"tabpanel"}},[t._m(0),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-10 col-sm-offset-1",class:{"bg-danger":!t.isActive}},[e("h4",[e("a",{attrs:{href:"/admin/employees/"+t.employee.id}},[t._v("\n            "+t._s(t.employee.id)+", "+t._s(t.employee.full_name)+"\n          ")])])])]),t._v(" "),e("div",{staticClass:"tab-content"},[e("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel",id:"info-employee"}},[e("employee-form",{attrs:{"is-updating":!0,employee:t.employee}})],1),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"termination"}},[e("EmployeeTermination")],1),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"photo-and-address"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[e("EmployeePhoto")],1),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("EmployeeAddress")],1)])]),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"card_and_punch"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("EmployeeCard")],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("EmployeePunch")],1)])]),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"tss"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("EmployeeArs")],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("EmployeeAfp")],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("EmployeeSocialSecurity")],1)])]),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"login-names"}},[e("EmployeeLoginNames")],1),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"bank_account"}},[e("EmployeeBankAccount")],1),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"others"}},[e("div",{staticClass:"box-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("EmployeeSupervisor")],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("EmployeeNationality")],1),t._v(" "),e("div",{staticClass:"col-md-12"},[e("Especialities")],1)])])])])])])}),[function(){var t=this,e=t._self._c;return e("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[e("li",{staticClass:"active",attrs:{role:"presentation"}},[e("a",{attrs:{href:"#info-employee","aria-controls":"info-employee",role:"tab","data-toggle":"tab"}},[t._v("Editar")])]),t._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#termination","aria-controls":"termination",role:"tab","data-toggle":"tab"}},[t._v("Salida")])]),t._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#photo-and-address","aria-controls":"photo-and-address",role:"tab","data-toggle":"tab"}},[t._v("Foto y Dirección")])]),t._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#card_and_punch","aria-controls":"card_and_punch",role:"tab","data-toggle":"tab"}},[t._v("IDs Tarjeta y Ponche")])]),t._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#tss","aria-controls":"tss",role:"tab","data-toggle":"tab"}},[t._v("TSS")])]),t._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#login-names","aria-controls":"login-names",role:"tab","data-toggle":"tab"}},[t._v("Logins")])]),t._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#bank_account","aria-controls":"bank_account",role:"tab","data-toggle":"tab"}},[t._v("Cuenta Banco")])]),t._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#others","aria-controls":"others",role:"tab","data-toggle":"tab"}},[t._v("Otros")])]),t._v(" "),e("li",{staticClass:"pull-right"},[e("a",{attrs:{href:"/admin/employees",title:"Back to List"}},[e("i",{staticClass:"fa fa-home"}),t._v(" Listado")])])])}],!1,null,"6b4da1fa",null);e.default=L.exports}}]);